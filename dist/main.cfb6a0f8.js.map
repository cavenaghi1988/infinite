{"version":3,"sources":["main.js"],"names":["imgContainer","document","getElementById","loader","ready","imgLoaded","totalImg","photoArray","setAtr","elem","atr","key","setAttribute","imgLoad","hidden","apiUrl","count","displayPhotos","length","forEach","photo","item","createElement","links","html","img","urls","regular","alt_description","addEventListener","appendChild","getPhotos","response","fetch","json","err","console","log","window","innerHeight","scrollY","body","offsetHeight"],"mappings":";AAAA,MAAMA,EAAeC,SAASC,eAAe,iBACvCC,EAASF,SAASC,eAAe,UACvC,IAAIE,GAAQ,EACRC,EAAY,EACZC,EAAW,EAGXC,EAAa,GAEjB,SAASC,EAAOC,EAAMC,GACf,IAAA,MAAMC,KAAOD,EAChBD,EAAKG,aAAaD,EAAKD,EAAIC,IAI/B,SAASE,MACPR,IACkBC,IAChBH,EAAOW,QAAS,EAChBV,GAAQ,EAERW,uDAA8DJ,WAD9DK,EAAQ,MAKZ,SAASC,IACPX,EAAWC,EAAWW,OAEtBX,EAAWY,QAAQC,IACXC,MAAAA,EAAOpB,SAASqB,cAAc,KACpCd,EAAOa,EAAM,CACHD,KAAAA,EAAMG,MAAMC,KACV,OAAA,WAENC,MAAAA,EAAMxB,SAASqB,cAAc,OACnCd,EAAOiB,EAAK,CACHL,IAAAA,EAAMM,KAAKC,QACXP,IAAAA,EAAMQ,gBACJR,MAAAA,EAAMQ,kBAGjBH,EAAII,iBAAiB,OAAQhB,GAE7BQ,EAAKS,YAAYL,GACjBzB,EAAa8B,YAAYT,KAK7B,IAAIL,EAAQ,EACZ,MAAML,EAAM,8CACZ,IAAII,uDAA8DJ,WAAaK,IAG/E,eAAee,IACT,IACIC,MAAAA,QAAiBC,MAAMlB,GAC7BR,QAAmByB,EAASE,OAC5BjB,IACA,MAAOkB,GACPC,QAAQC,IAAIF,IAKhBG,OAAOT,iBAAiB,SAAU,KAC5BS,OAAOC,YAAcD,OAAOE,SAAWvC,SAASwC,KAAKC,aAAe,KAAQtC,IAC9EA,GAAQ,EACRC,EAAY,EACZ0B,OAIJA","file":"main.cfb6a0f8.js","sourceRoot":"../src","sourcesContent":["const imgContainer = document.getElementById(\"img-container\");\nconst loader = document.getElementById(\"loader\");\nlet ready = false\nlet imgLoaded = 0;\nlet totalImg = 0;\n\n\nlet photoArray = [];\n\nfunction setAtr(elem, atr) {\n  for (const key in atr) {\n    elem.setAttribute(key, atr[key])\n  }\n}\n\nfunction imgLoad() {\n  imgLoaded++;\n  if (imgLoaded === totalImg) {\n    loader.hidden = true;\n    ready = true\n    count = 30;\n    apiUrl = `https://api.unsplash.com/photos/random/?client_id=${key}&count=${count}`\n  }\n}\n\nfunction displayPhotos() {\n  totalImg = photoArray.length\n\n  photoArray.forEach(photo => {\n    const item = document.createElement('a')\n    setAtr(item, {\n      'href': photo.links.html,\n      'target': '_blank'\n    })\n    const img = document.createElement('img')\n    setAtr(img, {\n      'src': photo.urls.regular,\n      'alt': photo.alt_description,\n      'title': photo.alt_description\n    })\n\n    img.addEventListener(\"load\", imgLoad);\n\n    item.appendChild(img)\n    imgContainer.appendChild(item)\n  })\n}\n\n// Unsplash\nlet count = 5;\nconst key = '5C7koAF6oG-j0es1Qx1y142Nn1TSNLu0127751C-54M';\nlet apiUrl = `https://api.unsplash.com/photos/random/?client_id=${key}&count=${count}`\n\n\nasync function getPhotos() {\n  try {\n    const response = await fetch(apiUrl)\n    photoArray = await response.json();\n    displayPhotos();\n  } catch (err) {\n    console.log(err);\n  }\n}\n\n\nwindow.addEventListener(\"scroll\", () => {\n  if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 1000 && ready) {\n    ready = false;\n    imgLoaded = 0;\n    getPhotos();\n  }\n})\n\ngetPhotos();"]}